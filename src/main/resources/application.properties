spring.application.name=slipsync

# --- Clerk configuration ---
# Read the secret key from the CLERK_SECRET_KEY environment variable
clerk.secret.key=${CLERK_SECRET_KEY}

# --- Database configuration ---
# In production (Render), these come from environment variables wired in render.yaml:
#   SPRING_DATASOURCE_URL, SPRING_DATASOURCE_USERNAME, SPRING_DATASOURCE_PASSWORD
spring.datasource.url=${SPRING_DATASOURCE_URL}
spring.datasource.username=${SPRING_DATASOURCE_USERNAME}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD}
spring.datasource.driver-class-name=org.postgresql.Driver

# JPA Settings
spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.show-sql=false
# Turn off Hibernate schema validation/auto-DDL while using a managed database schema.
spring.jpa.hibernate.ddl-auto=none

# HikariCP configuration
spring.datasource.hikari.data-source-properties.prepareThreshold=0
spring.datasource.hikari.maximum-pool-size=5
spring.datasource.hikari.minimum-idle=1
spring.datasource.hikari.idle-timeout=60000  
spring.datasource.hikari.connection-timeout=30000

# --- LOGGING LEVELS ---
# Hide Hibernate internal logs
logging.level.org.hibernate=WARN
# Hide Hikari pool logs
logging.level.com.zaxxer.hikari=WARN
# Keep your own app logs (Controllers, etc.) at INFO
logging.level.com.slipsync=INFO